---
title: "Gov 50 Final Project"
author: "Erica Ho"
description: "My final project"
output:
  distill::distill_article:
    self_contained: false
---


## Project thoughts

I am interested in exploring data related to repression indexes in Singapore. I am taking a class on authoritarianism where I am tasked with conducting a study on Lee Kuan Yew's dictatorship and repression styles. There are several ways to measure repression, such as V-Dem, Polity, or via a binary scale. I would like to compile this data and display it visually using R. 

## Proposal 

Does incumbency impact a republican representative's likelihood of outwardly denying the 2020 Election results? In this study, I plan determine if there is a correlation between the incumbency of congressional republican representatives and if they deny the 2020 election. I hypothesis that being an incumbent increases the candidates feelings of job security, and are thus more likely to express potentially polarizing view points, such as denying the election. Thus, I expect to find a positive correlation between incumbency on the congressional candidate and election denial. 

To begin this project, I plan to filter the data by office to ensure that I am only evaluating candidates for the House of Representatives. I will also filter by party to ensure that I am only evaluating republican candidates. Eliminating democrats from this study allows me to observe a more specific and relevant portion of the data. Lastly, I plot the data to determine if the proportion of incumbents who deny the election is greater than the proportion of non-incumbents who don't outwardly deny the election.

```{r}
library(ggplot2)
library(tidyverse)
election_deniers_data <- read_csv("fivethirtyeight_election_deniers.csv")

e2 <- election_deniers_data |>
  filter(Office == "Representative")|>
  mutate(definitive_stance = case_when(Stance == "Fully accepted" ~ 1,
                                        Stance == "Fully denied" ~ 1,
                                        Stance == "Accepted with reservations" ~ 0,
                                        Stance == "Accepted with reservations" ~  0,
                                       Stance == "Raised questions" ~0 , 
                                       Stance == "Avoided answering"~ 0 , 
                                       Stance == "No comment" ~ 0))

e3 <- e2|>  
  group_by(Incumbent) |>
  summarize(stance_mean = mean(definitive_stance)) |>
  ggplot(aes(x = Incumbent, y = stance_mean)) + geom_col(fill = "steelblue1") + labs(
    x = "Incumbent",
    y = "Proportion of Decisive Candidates",
    title = "Incumbency and decisiveness on the validity of the 2016 election"
  ) + ylim(0,1)

e3
```
## Graph Explanation and Analysis 

The above graph shows the relationship between incumbency and likelihood that a congressional representative had outwardly decisive opinions regarding the validity of the 2016 Election. My hypothesis theorizes that incumbents benefit from a greater sense of job security, which allows them to be outspoken on contentious political topics. Candidates who were not running as an incumbent did not enjoy such job security, and likely presented less polarizing viewpoints to win the election.

The original data collected six "Stances" that each candidate submitted to various news sources. The "Stances" included: "Fully denied", "Raised questions", "Accepted with reservations", "Fully accepted", "No comment" and "Avoided answering". I coded these six responses into two categories: decisive and non-decisive. The responses "Fully denied" and "Fully accepted" were coded as decisive, while the other four responses were coded as indecisive. 

Decisiveness was assigned code equal to 1, which indecisive was assigned code equal to 0. To create the plot, I grouped the data by Incumbency and definitive_stance, which contained by 1/0 code, and plotted the mean of the sum of the definitive_stance column on the y access for each incumbent group. The incumbents did appear to have a greater proportion of candidates who had definitive opinions regarding the 2016 election, as I hypothesized. However, confounding variables such as geography and the uncontrolled sample size inhibit concluding causality. 

```{r}
unique(election_deniers_data$Stance)
```


#For Milestone 4
```{r}
diff_in_means <- e2|> 
  group_by(Incumbent)|> 
  summarize(stance_mean = mean(definitive_stance)) |>
  pivot_wider(names_from = Incumbent,
              values_from = stance_mean)|> 
   mutate(ATE=`Yes`-`No`) 

diff_in_means
```
```{r}
library(infer) 
dim_boots <- e2|> 
  rep_slice_sample(prop=1, replace=TRUE, reps=1000)|> 
  group_by(replicate, Incumbent)|> 
  summarize(stance_mean = mean(definitive_stance)) |>
  pivot_wider(names_from = Incumbent,
              values_from = stance_mean)|> 
  mutate(ATE=`Yes`-`No`) 
dim_boots

dim_ci_95 <- dim_boots|> 
  select(replicate,ATE)|> 
  get_confidence_interval(level=0.95,type="percentile") 

dim_ci_95

dim_boots|> 
  ggplot(aes(x=ATE))+ geom_histogram(aes(y=after_stat(density)),binwidth=0.005) + 
  geom_vline(aes(xintercept = dim_ci_95$lower_ci), color = "steelblue1") +
  geom_vline(aes(xintercept = dim_ci_95$upper_ci), color = "steelblue1") +
  geom_vline(aes(xintercept = mean(ATE)), color ="magenta") +
  labs(
    x = "Average Treatment Effect",
    y = "Density",
    title = "Sampling Distribution for the Average Treatment Effect of Incumbency on Republican Representatives' likelihood to be decisive about the Legitimacy of the 2020 Election"
  )


```
Analysis of the data

The above graph shows the sampling distribution for the Average Treatment Effect of Incumbency on Republican Representatives' likelihood to be decisive about the Legitimacy of the 2020 Election. 



